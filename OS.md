# OS  

</br>

## Outline
- [메모리 영역 구조](#메모리-영역-구조)
- [프로세스와 쓰레드](#프로세스와-쓰레드)
- [프로세스 통신 (IPC)](#프로세스-통신-(IPC))

</br>

## 메모리 영역 구조
#### 1) code 영역
- 코드 자체, 실행파일을 구성하는 메모리 영역. (Hex파일이나 BIN파일 메모리)  
- 프로그램 명령이 위치하는 곳으로 기계어로 제어되는 메모리 영역

#### 2) data 영역  
- 전역변수(global), 정적변수(static), 배열(array), 구조체(structure) 등이 저장됨.  
  - 초기화 된 데이터 : data
  - 초기화 되지 않은 데이터 : BSS (Block Stated Symbol)   
- 프로그램이 실행 될 때 생성되고 프로그램이 종료 되면 시스템에 반환됨.  
- 함수 내부에 선언된 Static 변수는 프로그램이 실행 될 때 공간만 할당되고, 그 함수가 실행 될 때 초기화됨.

#### 3) heap 영역
- 필요에 의해 동적으로 메모리를 할당 하고자 할 때 위치하는 메모리 영역으로, 메모리 주소 값에 의해서만 참조되고 사용되는 영역.  
- C는 malloc(), C++은 new() 함수를 사용.

#### 4) stack 영역
- 프로그램이 자동으로 사용하는 임시 메모리 영역.  
- 지역(local) 변수, 매개변수(parameter), 리턴 값 등 잠시 사용되었다가 사라지는 데이터를 저장  
- 함수 호출 시 생성되고, 함수 return시 시스템에 반환됨  
- 스택 사이즈는 각 프로세스마다 할당 되지만 프로세스가 메모리에 로드 될 때 스택 사이즈가 고정되어 있어, 런타임 시에 스택 사이즈를 바꿀 수는 없음.  
- 명령 실행시 자동 증가 혹은 감소 하기 때문에 보통 메모리의 마지막 번지를 지정  

</br>

## 프로세스와 쓰레드
- 공통점
  - 특정 순서로 실행해야 할 명령 시퀀스를 나타내는 비동기적 행위  
- 프로세스
  - 운영체제 내에 존재. 레지스터, 스택, 포인터, 데이터의 복합으로 각각 별개의 메모리 공간을 가짐    
  - 운영체제 내에 프로세스를 컨트롤하는 PCB(Process Control Block)가 존재  
  - 프로세스간 전환 속도가 쓰레드 간 전환 속도보다 느림  
- 쓰레드
  - 쓰레드는 프로세스 내에 존재. 
  - 하나의 프로그램 내에서의 실행 단위를 말함.  
  - 메모리를 공유해서 사용할 수 있음.  
  - context switching이 가벼움

## 프로세스 통신 (IPC)
#### 1) 시그널 ( 프로세스(커널포함) <-> 프로세스 in 동일 시스템 ) 
- 프로세스간의 인터럽트 처리를 위한 동기화를 위한 것이라면 시그널 방식을 선택 
- 결과는 대부분 프로세스 종료. 혹은 프로그래머가 지정한 시그널핸들러 함수를 실행 
- 주로 커널이 보내지만, 해당 프로세스에 권한을 가진 프로세스도 시그널 보낼수 있음. 

#### 2) 파이프 ( 프로세스 <-> 프로세스 in 동일 시스템 )  
- 동일한 시스템 내에서 메시지를 주고받는 것이라면 파이프를 선택
- 파일 아웃풋 -> 파일인풋  - 반이중통신으로 이중통신을 위해 2개 파이프 필요. 

#### 3) 소켓 ( 프로세스 <-> 프로세스 in 외부 시스템 )  
- 서로 다른 시스템에 프로세스끼리 메시지를 주고받는 것이라면 소켓을 선택 
- 연결형모델 TCP / 비연결형 UDP

참고
1. https://jwprogramming.tistory.com/54
2. https://gomoveyongs.tistory.com/m/67

</br>




