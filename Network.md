# Network

<br>

## 노드 vs 호스트
- 노드 : 네트워크와 연결된 모든 것. 
- 호스트 : 주소가 할당된 것.
- ex)
  - 노드이자 호스트 : 컴퓨터, 라우터, 핸드폰, 등등
  - 노드(호스트X) : 모뎀, 허브, 스위치 등등

<br>

## Port number
- 네트워크를 통해 데이터를 주고받는 프로세스를 식별하기 위한 것. 
  - 호스트 내부적으로 프로세스가 할당받는 고유한 값이다.
  - (소켓 통신에서 실제로 데이터를 주고 받는 것은 호스트 내의 프로세스이다.)
- Q. 소켓 통신을 할 때, 원하는 주소로 어떻게 데이터를 주고 받을 수 있을까? 
  - IP로 호스트를 찾아가고, TCP/UDP 등 패킷의 포트넘버를 통하여 해당 프로세스를 찾아갈 수 있다.
      - 인터넷 계층에서 IP 주소로 호스트를 찾는다.
        - [IP주소로 MAC 주소를 찾는 방식 비유](http://m.cafe.daum.net/v3study/O2EQ/4?q=D_oNeYewAwh3Y0&)
      - 전송 계층에서 Port number로 호스트의 해당 프로세스를 찾아간다.
  - 패킷
    - IP Datagram에 IP가 있고,
    - 그 내부의 TCP/UDP segment에 발/수신 Port number가 있음

<br>

## MAC 주소
- 네트워크 상에서 서로를 구분하기 위하여 Device 마다 할당된 __물리적인 주소__. MAC 주소는 총 12자리 숫자로 구성되어 있으며 숫자중 앞의 6자리(24bit)는 벤더사에 할당되며 나머지 6자리(24bit)는 각 벤더에서 제품에 할당한다.
- 통신을 위해서는 MAC 주소를 알아야 한다. IP주소로 MAC 주소를 알기 위해서는 IP 주소를 MAC으로 바꾸는 ARP(Address Resolution Protocol) 과정이 필요하다.
- IP 주소는 집 주소(우편번호)와 같은 논리적인 주소를 뜻하고, MAC 주소는 그 집에 사는 사람이 누군지(이름)와 같은 물리적인 주소를 뜻한다.

## HTTP Method

##### GET 방식의 특징
  - URL에 변수(데이터)를 포함시켜 요청한다.
  - 데이터를 Header(헤더)에 포함하여 전송한다.
  - URL에 데이터가 노출되어 보안에 취약하다.
  - 전송하는 길이에 제한있다.
  - 캐싱할 수 있다.

##### POST 방식의 특징
  - URL에 변수(데이터를) 노출하지 않고 요청한다.
  - 데이터를 Body(바디)에 포함시킨다.
  - 전송하는 길이에 제한이 없다.
  - 캐싱할 수 없다.
  
<br>
  
## 브라우저에서 주소창에 URL 입력시
  - 브라우저의 주소창에 URL 입력
  - 브라우저 캐시에서 DNS 레코드를 확인하여 IP주소를 찾음(없다면 DNS resolver를 통해 IP주소를 알아냄)
  - 브라우저가 서버와 TCP 연결을 시작함
  - 브라우저가 웹 서버에 HTTP 요청을 보냄
  - 서버가 요청을 처리하고 응답을 되돌려 보냄
  - 브라우저는 서버가 보낸 HTML 내용을 표시

<br>

## TCP와 UDP
  - 공통점 : TCP와 UDP 프로토콜은 모두 전송계층(Transport Layer)에서 동작하는 프로토콜이다.
  - 차이점
    - TCP
      - 신뢰성있는 데이터 전송을 지원하는 연결지향형 프로토콜이다.
      - 패킷을 성공적으로 전송하면 Acknowledgement(ACK)라는 신호를 날린다. 만일 ACK 신호가 제 시간에 도착하지 않으면 Timeout이 발생하여, 패킷 손실이 발생한 패킷에 다시 전송해준다.
      - __3-way handshaking__
      - 흐름제어(flow control), 혼잡 제어(congestion control)를 지원하며 데이터의 순서를 보장.
      - UDP에 비해 속도가 느림 => 웹 HTTP 통신, 이메일, 파일전송에 사용됨.
    - UDP
      - 비연결형 프로토콜
      - TCP와 달리 연결 설정 없음.
      - 혼잡 제어를 하지 않기 때문에 TCP보다 빠르다.
      - 데이터 전송에 대한 보장을 하지 않기 때문에 패킷 손실이 발생할 수 있음. => DNS, 멀티미디어에서 사용됨.
      - 헤더에 있는 Checksum 필드를 통해 최소한의 오류는 검출한다.
 
    - 비교 표

     |                             TCP                              | UDP                                                       |
     | :----------------------------------------------------------: | --------------------------------------------------------- |
     |     Connection-oriendted protocol (연결지향형 프로토콜)      | Connection-less protocol (비 연결지향형 프로토콜)         |
     |    Connection by byte stream (바이트 스트림을 통한 연결)     | Connection by message stream (메시지 스트림을 통한 연결)  |
     |    congestion control, flow control (혼잡제어, 흐름제어)     | X                                                         |
     |      ordered, lower speed (순서 보장, 상대적 속도 느림)      | not ordered, higher speed (순서 보장x, 상대적 속도 빠름)  |
     | reliable data transmission (신뢰성 있는 데이터 전송, 안정적) | unreliable data transmission (데이터 전송 보장 x)         |
     |      TCP packet : segment (데이터 전송 단위는 세그먼트)      | UDP packet : datagram (데이터 전송 단위는 데이터 그램)    |
     |                  HTTP, Email, File transfer                  | DNS, Boradcasting (도메인, 실시간 동영상 서비스에서 사용) |

<br>

## HTTP와 HTTPS
- HTTP
  - HyperText Transfer Protocol
  - 웹서버와 사용자의 인터넷 브라우저 사이에 문서를 전송하기 위한 통신 규약
  - 암호화가 전혀 되어 있지 않은 프로토콜
  
- HTTPS
  - HTTP + over Secure socket layer
  - http에 보안을 강화한 프로토콜로 패킷을 암호화하여 전송
  - L4 전송계층에서 암호화가 이루어짐 -> TLS(Transport Layer Security)
  - 암호화 과정 때문에 HTTP보다 속도가 느리지만, 요즘은 인터넷 속도의 향상으로 사실상 큰 차이 없음

<br>

## Gateway란
   - 서로 다른 네트워크로 이동하기 위한 관문
   - 두 컴퓨터가 네트워크 상에서 서로 연결되려면 동일한 통신 프로토콜을 사용해야한다. 따라서 프로토콜이 다른 네트워크 상의 컴퓨터와 통신하려면 두 프로토콜을 적절히 변환해주는 변환기가 필요한데, 게이트웨이가 바로 이러한 변환기 역할을 한다.
   - 일반적으로 하드웨어 형태
   - 라우터와 동일한 개념으로 이해할 수 있다. 하지만 좀 더 포괄적인 개념이다.
     - 라우터 : 네트워크 장비의 일종으로, 패킷을 다른 네트워크로 보내주는 역할을 한다. 이와 함께 최적의 네트워크 경로를 찾아주는 역할도 함께 수행한다.
   - 예시로는 인터넷 유무선 공유기가 우리가 만나는 첫 번째 게이트웨이다.
     - 공유기는 사용자 컴퓨터의 네트워크와 인터넷을 연결하여 사용자가 웹 사이트에 접근할 수 있도록 관문을 열어준다. 사용자가 속해 있는 로컬 네트워크의 통신 프로토콜과 인터넷의 통신 프로토콜이 다르기 때문이다. 참고로 공유기는 게이트웨이의 역할과 라우터의 역할, 방화벽 역할 등을 동시에 제공하는 종합 네트워크 장비다.
   - 일반적으로 게이트웨이의 IP주소는 해당 네트워크 내 컴퓨터에 할당된 IP 주소 중 끝자리만 다른 형태다. 보통 1을 지정한다.
     - ex) 컴퓨터 IP 주소가 123.123.123.123 이면, 게이트웨이 주소는 123.123.123.1이 된다.

<br>
   
## 오류 제어 기법
*데이터 링크 계층에서*
- Forward Error Correction
- Backward Error Correction

#### 1. Forward Error Correction (전진 오류 수정)
- 수신 측에서 오류를 스스로 검출, 정정할 수 있는 방법으로, 송신시 오류 복구를 위한 잉여 비트를 추가하여 전송하는 방식

    ##### 1.1. 수정 방식
    - 해밍 코드 : 자기 정정 부호로서, 오류를 검출해서 1비트의 오류를 수정하는 방식
    - 상승 코드 : 해밍 코드 방식은 1개의 오류 비트를 수정할 수 있지만 상승 코드 방식은 여러 개의  비트의  오류가 있더라도 한계 값(경계 값), 순차적 디코딩을 이용하여 모두 수정할 수 있는 방식

#### 2. Backward Error Correction (후진 오류 수정)
- 전송된 데이터에 오류가 발샐된 경우, 송신 측에 오류 사실을 알려서 재전송으로 복원하는 방식

    ##### 2.1. 오류 검출 방식
    - 패리티 검사 (Parity check)
    - 블록합 검사 (Block Sum check)
    - 순환 잉여 검사 (Cycle Redundancy Check, CRC)

    ##### 2.2. (검출 후) 재전송 방식
    - Stop and Wait ARQ
    - Go-Back-N
    - Selective-Repeat ARQ
    - 적응성(Adptive) ARQ
    
    ~~Backward방식 설명 추가 예정~~
    
<br>

